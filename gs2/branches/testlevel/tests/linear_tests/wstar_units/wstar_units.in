!==============================================================================
!  		GS2 INPUT FILE automatically generated by CodeRunner 
!==============================================================================
!
!  GS2 is a gyrokinetic flux tube initial value turbulence code 
!  which can be used for fusion or astrophysical plasmas.
!  
!  	See http://gyrokinetics.sourceforge.net
!
!  CodeRunner is a framework for the automated running and analysis 
!  of large simulations. 
!
!  	See http://coderunner.sourceforge.net
!
!  Created on 2013-09-16 14:21:00 +0100
!      by CodeRunner version 0.13.14.0
!
!==============================================================================

!==============================
!GENERAL PARAMETERS  
!==============================
&parameters
 beta = 0.003 ! Ratio of particle to magnetic pressure (reference Beta, not total beta):  beta=n_0 T_0 /( B^2 / (8 pi))
 zeff = 1.0 ! Effective ionic charge.
/

&kt_grids_knobs
 grid_option = "range" ! The general layout of the perpendicular grid.
/

!==============================
!  
!==============================
&kt_grids_box_parameters
 naky = 2 ! The actual number of ky modes (do not use for nonlinear runs, use ny)
 ntheta0 = 1 
/

!==============================
!  
!==============================
&theta_grid_parameters
 ntheta = 14 ! Number of points along field line (theta) per 2 pi segment
 nperiod = 2 ! Number of 2 pi segments along equilibrium magnetic field.
 rhoc = 0.1 ! Flux surface label. Usually rho = diameter/diameter of LCFS
 qinp = 2.0 ! Sets value of the safety factor when using local toroidal equilibrium model.
 akappa = 1.0 ! Sets local elongation when local toroidal equilibrium is specified.
 akappri = 0.0 ! akappri = dkappa/drho
 tri = 0.0 ! tri = arcsin[(R(max(Z))-R_major)/r_mid]
 tripri = 0.0 ! tripri =  dtri/drho
 shift = -0.0 ! shift = -R q**2 dbeta/drho (>0)
 rmaj = 3.0 ! Major radius/a (Position of magnetic axis)
 r_geo = 3.0 ! Major radius/a (centerpoint of LCFS)
/

!==============================
!  
!==============================
&theta_grid_knobs
 equilibrium_option = "eik" ! Controls which geometric assumptions are used in the run.
/

!==============================
!  
!==============================
&theta_grid_eik_knobs
 itor = 1 
 iflux = 0 
 irho = 2 ! Chooses definition of flux surface coordinate.
 local_eq = T 
 eqfile = "dskeq.cdf" 
 bishop = 1 
 s_hat_input = 1.0 
 beta_prime_input = -0.0 ! The gradient of the pressure.
 delrho = 1.0e-05 
 isym = 0 
 ppl_eq = F 
 gen_eq = F 
 efit_eq = F 
 equal_arc = F 
 writelots = F 
 alpha_input = 1.643 
 dp_mult = 0.0 
/

!==============================
!PITCH ANGLE/ENERGY GRID SETUP  
!==============================
&le_grids_knobs
 ngauss = 3 ! Number of untrapped pitch-angles moving in one direction along field line.
 negrid = 8 ! Total number of energy grid points
/

!==============================
!BOUNDARY CONDITIONS  
!==============================
&dist_fn_knobs
 gridfac = 50000.0 ! Affects boundary condition at end of theta grid.
/

!==============================
!ALGORITHMIC CHOICES  
!==============================
&fields_knobs
 field_option = "implicit" ! Controls which time-advance algorithm is used for the linear terms.
/

!==============================
!  
!==============================
&knobs
 wstar_units = .true. ! For linear runs only. Evolves each k_y with a different timestep.
 fphi = 1.0 ! Multiplies Phi (electrostatic potential).
 fapar = 1.0 ! Multiplies A_par. Use 1 for finite beta (electromagnetic), 0 otherwise (electrostatic)
 faperp = 1.0 ! Multiplies A_perp. Use 1 for high beta, 0 otherwise. Deprecated: use fbpar instead
 delt = 0.1 ! Time step
 nstep = 500 ! Maximum number of timesteps
/

!==============================
!  
!==============================
&layouts_knobs
 layout = "lexys" ! 'yxles', 'lxyes', 'lyxes', 'lexys' Determines the way the grids are laid out in memory.
/

!==============================
!COLLISIONS  
!==============================
&collisions_knobs
 collision_model = "default" ! Collision model used in the simulation. Options: 'default', 'none', 'lorentz', 'ediffuse'
/

!==============================
!EVOLVED SPECIES  
!==============================
&species_knobs
 nspec = 2 ! Number of kinetic species evolved.
/

!==============================
!SPECIES PARAMETERS 1 
!==============================
&species_parameters_1
 z = 1.0 ! Charge
 mass = 1.0 ! Mass
 dens = 1.0 ! Density	
 temp = 1.0 ! Temperature
 tprim = 5.0 ! -1/T (dT/drho)
 fprim = 1.0 ! -1/n (dn/drho)
 uprim = 0.0 ! ?
 vnewk = 0.0 ! collisionality parameter
 type = "ion" ! Type of species, e.g. 'ion', 'electron', 'beam'
/

!==============================
!SPECIES PARAMETERS 2 
!==============================
&species_parameters_2
 z = -1.0 ! Charge
 mass = 0.000272 ! Mass
 dens = 1.0 ! Density	
 temp = 1.0 ! Temperature
 tprim = 5.0 ! -1/T (dT/drho)
 fprim = 1.0 ! -1/n (dn/drho)
 uprim = 0.0 ! ?
 vnewk = 0.01 ! collisionality parameter
 type = "electron" ! Type of species, e.g. 'ion', 'electron', 'beam'
/

!==============================
! 1 
!==============================
&dist_fn_species_knobs_1
 fexpr = 0.4 ! Temporal implicitness parameter. Recommended value: 0.48
 bakdif = 0.0 ! Spatial implicitness parameter. Recommended value: 0.05
/

!==============================
! 2 
!==============================
&dist_fn_species_knobs_2
 fexpr = 0.4 ! Temporal implicitness parameter. Recommended value: 0.48
 bakdif = 0.0 ! Spatial implicitness parameter. Recommended value: 0.05
/

!==============================
!INITIAL CONDITIONS  
!==============================
&init_g_knobs
 chop_side = T ! Rarely needed. Forces asymmetry into initial condition.
 width0 = 3.0 ! Initial perturbation has Gaussian envelope in theta with width width0,
 phiinit = 1.0e-05 ! Average amplitude of initial perturbation of each Fourier mode.
 ginit_option = "default" ! Sets the way that the distribution function is initialized.
/

!==============================
!DIAGNOSTICS  
!==============================
&gs2_diagnostics_knobs
  ! print_flux_line not specified --- Instantaneous fluxes output to screen
  ! write_nl_flux not specified --- Write nonlinear fluxes as a function of time.
 print_line = T ! Estimated frequencies and growth rates to the screen/stdout
  ! write_verr not specified --- Write velocity space diagnostics to '.lpc' and '.verr' files
  ! write_g not specified --- Write the distribution function to the '.dist' (NetCDF?)
 write_line = T ! If (write_ascii = T) write estimated frequencies and growth rates to the output file
  ! write_gyx not specified --- Write dist fn at a given physical spacial point to a file
  ! write_hrate not specified --- Write heating rate, collisonal entropy generation etc to '.heat'
  ! write_final_epar not specified --- If (write_ascii = T) E_parallel(theta) written to runname.eigenfunc
  ! write_avg_moments not specified --- Write flux surface averaged low-order moments of g to runname.out.nc and runname.moments (if write_ascii = T)
  ! write_lorentzian not specified --- Frequency Sweep Data
 write_omega = T ! If (write_ascii = T) instantaneous omega to output file. Very heavy output
 write_omavg = T ! If (write_ascii = T) time-averaged growth rate and frequency to the output file.
  ! write_eigenfunc not specified --- If (write_ascii = T) Normalized phi written to runname.eigenfunc
 write_final_fields = T ! If (write_ascii = T) Phi(theta) written to '.fields'
  ! write_final_moments not specified --- write final n, T
  ! write_parity not specified --- Writes parities in dist fn and particle fluxes
  ! nsave not specified --- Write restart files every nsave timesteps
 nwrite = 10 ! Output diagnostic data every nwrite
 navg = 100 ! Any time averages performed over navg
 omegatol = 0.001 ! The convergence has to be better than one part in 1/omegatol
 omegatinst = 500.0 ! Recommended value: 500.
  ! save_for_restart not specified --- Write restart files.
  ! write_flux_line not specified --- 
  ! write_ascii not specified --- 
  ! write_kpar not specified --- 
  ! write_gs not specified --- 
  ! write_gg not specified --- 
  ! write_lpoly not specified --- 
  ! write_fields not specified --- 
  ! write_final_antot not specified --- 
  ! write_cerr not specified --- 
  ! write_max_verr not specified --- 
  ! nmovie not specified --- 
  ! igomega not specified --- 
  ! exit_when_converged not specified --- 
  ! write_full_moments_notgc not specified --- 
  ! write_cross_phase not specified --- 
  ! dump_check1 not specified --- 
  ! dump_check2 not specified --- 
  ! dump_fields_periodically not specified --- 
  ! make_movie not specified --- 
  ! write_phi_over_time not specified --- Write entire Phi field to NetCDF file every nwrite.
  ! write_apar_over_time not specified --- Write entire A_parallel field to NetCDF file every nwrite.
  ! write_bpar_over_time not specified --- Write entire B_parallel field to NetCDF file every nwrite.
  ! write_symmetry not specified --- Test the symmetry properties of the GK eqn.
  ! save_distfn not specified --- Save dist_fn with lots of detail.
  ! write_correlation_extend not specified --- Extend domain of correlation function calculation.
  ! nwrite_mult not specified --- Large datasets written every nwrite_mult * nwrite timesteps.
  ! write_correlation not specified --- Write parallel correlation.
  ! write_moments not specified --- 
  ! write_final_db not specified --- Write final delta B.
/

!==============================
!  
!==============================
&kt_grids_range_parameters
 naky = 2 ! The number of 'actual' ky modes.
 ntheta0 = 1 
 aky_min = 0.424 
 aky_max = 1.0 
 theta0_min = 0.0 
 theta0_max = 0.0 
/

